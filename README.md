# ğŸ§  FitGuru Backend

FitGuru Backend is a FastAPI-based AI service that powers a conversational fitness coach using LangChain and Google Gemini.  
It provides session-based chat APIs with short, concise, and context-aware fitness responses.

ğŸš€ Deployed on Render  
ğŸ“¦ Repository: lavishgupta613-oss/fitguru-backend

---

## âœ¨ Features

- FastAPI REST backend
- Google Gemini (Generative AI) integration
- Conversational memory using LangChain
- Session-based chat handling
- Secure API key management via environment variables
- CORS-enabled API
- Health check endpoint

---

## ğŸ—ï¸ Tech Stack

- Python
- FastAPI
- LangChain
- Google Generative AI (Gemini)
- Pydantic
- Uvicorn
- Render

---

## ğŸ“ Project Structure

fitguru-backend/

â”œâ”€â”€ main.py

â”œâ”€â”€ requirements.txt

â”œâ”€â”€ .env

â””â”€â”€ README.md

---

## ğŸ” Environment Variables

The backend requires the following environment variable:

GOOGLE_API_KEY=your_google_gemini_api_key

âš ï¸ Do NOT commit the `.env` file to GitHub.

---

## ğŸš€ API Endpoints

### Health Check

GET /

Response:
{
  "status": "FitGuru backend running ğŸš€"
}

Used to verify that the backend is running.

---

### Create New Chat Session

GET /new-chat

Response:
{
  "session_id": "uuid-string"
}

Generates a new unique session ID to maintain conversation memory.

---

### Chat with AI Coach

POST /chat

Request Body:
{
  "session_id": "uuid-string",
  "message": "Give me a quick fitness tip"
}

Response:
{
  "reply": "Short, concise fitness advice generated by the AI coach."
}

Each session maintains its own conversation history.

---

## ğŸ§  Conversation Memory

- Each user session is identified by a unique session_id
- Conversation history is stored in memory using ChatMessageHistory
- LangChain injects past messages into the prompt automatically
- Enables context-aware, multi-turn conversations

---

## ğŸ¤– AI Prompting Strategy

- The system prompt defines the AI as a helpful fitness coach
- Responses are constrained to:
  - Maximum 3 bullet points OR
  - Maximum 3 short sentences
- Token usage is optimized using a low max_output_tokens limit

---

## ğŸŒ CORS Configuration

CORS is enabled to allow cross-origin requests:


âš ï¸ For production, restrict allowed origins and methods.

---

## ğŸ§ª Local Development

1. Clone the repository:

git clone https://github.com/lavishgupta613-oss/fitguru-backend.git  
cd fitguru-backend

2. Install dependencies:

pip install -r requirements.txt

3. Run the server:

uvicorn main:app --reload

The server will run at:
http://localhost:8000

---

## ğŸ“ˆ Future Improvements

- Persistent memory using Redis or a database
- User profileâ€“based personalization
- Retrieval-Augmented Generation (RAG)
- Authentication and rate limiting
- Streaming responses
- Logging and monitoring

---

## ğŸ‘¨â€ğŸ’» Author

Lavish Gupta  
GitHub: https://github.com/lavishgupta613-oss

---

## â­ Support

If you find this backend useful, consider giving the repository a â­ on GitHub.
